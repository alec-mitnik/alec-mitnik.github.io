<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<title>Alec Mitnik - Portfolio</title>

<script type="module">
  import * as ColorBloom from "https://alec-mitnik-color-bloom.netlify.app/color-bloom.js";

  ColorBloom.bloomColor({color: {s: 0, l: 0}, triggerOnLoad: true, retriggerOnScreenSizeChange: true});

  const profilePicture = document.getElementById("profile-picture");
  ColorBloom.bloomImage({src: 'images/PXL_Avatar_1B.jpg', spawningElement: profilePicture,
      confineToSpawningElement: true, maxRadius: 179, triggerOnLoad: true,
      retriggerOnScreenSizeChange: true, overridingCanvasAttributes: {
        role: "img",
        ariaLabel: "Photo of me, Alec Mitnik",
      },});

  const bloomButtons = [...document.querySelectorAll(".bloom-button")];

  for (const bloomButton of bloomButtons) {
    const h = bloomButton.dataset.hue != null ? parseInt(bloomButton.dataset.hue) : undefined;
    const l = bloomButton.dataset.lightness != null ? parseFloat(bloomButton.dataset.lightness) : undefined;
    const s = bloomButton.dataset.saturation != null ? parseFloat(bloomButton.dataset.saturation) : undefined;

    bloomButton.onmouseenter = (event) => {
      if (!Array.from(document.querySelectorAll(":focus-visible")).includes(event.currentTarget)) {
        ColorBloom.clearCanvas(event.currentTarget);
        ColorBloom.bloomColor({color: {h, l, s}, spawningElement: event.currentTarget, confineToSpawningElement: true});
      }
    };
    bloomButton.onfocus = (event) => {
      if (!Array.from(document.querySelectorAll(":hover")).includes(event.currentTarget)) {
        ColorBloom.clearCanvas(event.currentTarget);
        ColorBloom.bloomColor({color: {h, l, s}, spawningElement: event.currentTarget, confineToSpawningElement: true});
      }
    };
    bloomButton.onmouseleave = () => {
      if (!Array.from(document.querySelectorAll(":focus-visible")).includes(event.currentTarget)) {
        ColorBloom.stopBlooming(event.currentTarget);
        ColorBloom.bloomErase({spawningElement: event.currentTarget});
      }
    };
    bloomButton.onblur = () => {
      if (!Array.from(document.querySelectorAll(":hover")).includes(event.currentTarget)) {
        ColorBloom.stopBlooming(event.currentTarget);
        ColorBloom.bloomErase({spawningElement: event.currentTarget});
      }
    };
  }

  document.querySelector("main").addEventListener("scroll", (event) => {
    const downArrow = document.getElementById("down-arrow");

    if (event.currentTarget.scrollTop > 0) {
      downArrow.classList.add("scrolled");
    } else {
      downArrow.classList.remove("scrolled");
    }
  });
</script>

<script type="text/javascript">
  "use strict";

  function openKofiDialog() {
    document.getElementById("kofi-dialog").showModal();
  }

  function closeKofiDialog() {
    document.getElementById("kofi-dialog").close();
  }
</script>

<link rel="stylesheet" type="text/css" href="./styles.css">
</head>

<body>
  <!-- Ko-fi tipping dialog -->
  <dialog id="kofi-dialog" aria-label="Support My Projects" style="width: 350px; max-width: 100%; height: 675px; max-height: 100%;">
    <div id="kofi-backdrop" class="modal-backdrop" onclick="closeKofiDialog()"></div>
    <div class="modal">
      <button autofocus class="close-button" aria-label="Close tipping dialog" onclick="closeKofiDialog()">
        <span>‚ùå&#65038;</span>
      </button>
      <iframe
        src="https://ko-fi.com/alecmitnik/?hidefeed=true&widget=true&embed=true&preview=true"
        style="border: none; border-radius: 8px; width: 100%; height: 100%;"
      ></iframe>
    </div>
  </dialog>

  <main>
    <section class="scroll-page template-page shrinking-center">
      <header class="section-header column">
        <h1>Alec Mitnik</h1>
        <h2>Portfolio</h2>
      </header>

      <div id="profile-picture-wrapper" class="column">
        <div id="profile-picture"></div>
      </div>

      <div class="column full-width">
        <nav id="personal-links" class="row" aria-label="Personal Links">
          <a id="email-link" class="bloom-button" data-hue="180" data-saturation="0.25" data-lightness="0.75" target="_new"
              href="mailto:alecmitnik@gmail.com">
            <span class="element-text">
              <img src="./images/envelope-34339.svg" alt="">
              Email
            </span>
          </a>
          <a id="LinkedIn-link" class="bloom-button" data-hue="200" data-saturation="0.9" data-lightness="0.4" target="_new"
              href="https://www.linkedin.com/in/alec-mitnik/">
            <span class="element-text">
              <img src="./images/LinkedIn_icon.svg" alt="">
              LinkedIn
            </span>
          </a>
          <a id="GitHub-link" class="bloom-button" data-hue="180" data-saturation="0.25" data-lightness="0.25" target="_new"
              href="https://github.com/alec-mitnik">
            <span class="element-text">
              <img src="./images/github-mark-white.svg" alt="">
              GitHub
            </span>
          </a>
        </nav>

        <div id="down-arrow" aria-hidden="true"></div>
      </div>
    </section>
    <section class="scroll-page template-page">
      <header class="section-header column">
        <h2 id="project-links-header">Project Links</h2>
      </header>

      <nav id="project-links" class="row" aria-labelledby="project-links-header">
        <a id="infinite-puzzles-link" class="bloom-button" target="_new"
            href="https://alec-mitnik-infinite-puzzles.netlify.app/">
          <span class="element-text"><span aria-hidden="true">üß©&nbsp;</span>Infinite Puzzles</span>
        </a>
        <a id="take-a-hike-link" class="bloom-button" target="_new"
            href="https://alec-mitnik-take-a-hike.netlify.app/">
          <span class="element-text"><span aria-hidden="true">üåº&nbsp;</span>Take a Hike</span>
        </a>
        <a id="take-a-hike-link" class="bloom-button" target="_new"
            href="https://alec-mitnik-color-bloom.netlify.app/art.html">
          <span class="element-text"><span aria-hidden="true">üé®&nbsp;</span>Color Bloom Art Maker</span>
        </a>
        <a id="context-lookups-link" class="bloom-button" target="_new"
            href="https://chromewebstore.google.com/detail/context-lookups/pdpcaajpbemllmagmijafgcnpmlbhhjd">
          <span class="element-text"><span aria-hidden="true">üîç&nbsp;</span>Context Lookups</span>
        </a>
      </nav>

      <button id="kofi-button" class="bloom-button" data-hue="0" target="_new" onclick="openKofiDialog()">
        <span class="element-text">
          <img src="./images/kofi_symbol.svg" alt="">
          Support My Projects
        </span>
      </button>
    </section>
  </main>
</body>
</html>
