<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<title>Alec Mitnik - Portfolio</title>

<script type="module">
  import * as ColorBloom from "https://alec-mitnik-color-bloom.netlify.app/color-bloom.js";

  ColorBloom.bloomColor({color: {s: 0, l: 0}, triggerOnLoad: true, retriggerOnScreenSizeChange: true});

  const profilePicture = document.getElementById("profile-picture");
  ColorBloom.bloomImage({src: 'images/PXL_Avatar_1B.jpg', spawningElement: profilePicture,
      confineToSpawningElement: true, maxRadius: 179, retriggerOnScreenSizeChange: true});

  const bloomButtons = [...document.querySelectorAll(".bloom-button")];

  for (const bloomButton of bloomButtons) {
    const h = bloomButton.dataset.hue != null ? parseInt(bloomButton.dataset.hue) : undefined;
    const l = bloomButton.dataset.lightness != null ? parseFloat(bloomButton.dataset.lightness) : undefined;
    const s = bloomButton.dataset.saturation != null ? parseFloat(bloomButton.dataset.saturation) : undefined;

    bloomButton.onmouseenter = (event) => {
      if (!Array.from(document.querySelectorAll(":focus-visible")).includes(event.currentTarget)) {
        ColorBloom.clearCanvas(event.currentTarget);
        ColorBloom.bloomColor({color: {h, l, s}, spawningElement: event.currentTarget, confineToSpawningElement: true});
      }
    };
    bloomButton.onfocus = (event) => {
      if (!Array.from(document.querySelectorAll(":hover")).includes(event.currentTarget)) {
        ColorBloom.clearCanvas(event.currentTarget);
        ColorBloom.bloomColor({color: {h, l, s}, spawningElement: event.currentTarget, confineToSpawningElement: true});
      }
    };
    bloomButton.onmouseleave = () => {
      if (!Array.from(document.querySelectorAll(":focus-visible")).includes(event.currentTarget)) {
        ColorBloom.stopBlooming(event.currentTarget);
        ColorBloom.bloomErase({spawningElement: event.currentTarget});
      }
    };
    bloomButton.onblur = () => {
      if (!Array.from(document.querySelectorAll(":hover")).includes(event.currentTarget)) {
        ColorBloom.stopBlooming(event.currentTarget);
        ColorBloom.bloomErase({spawningElement: event.currentTarget});
      }
    };
  }

  document.body.addEventListener("scroll", () => {
    const downArrow = document.getElementById("down-arrow");

    if (document.body.scrollTop > 0) {
      downArrow.classList.add("scrolled");
    } else {
      downArrow.classList.remove("scrolled");
    }
  });
</script>

<script type="text/javascript">
  function openKofiDialog() {
    document.getElementById("kofi-dialog").showModal();
  }

  function closeKofiDialog() {
    document.getElementById("kofi-dialog").close();
  }
</script>

<link rel="stylesheet" type="text/css" href="./styles.css">
</head>

<body>
  <!-- Ko-fi tipping dialog -->
  <dialog id="kofi-dialog" style="width: 350px; max-width: 100%; height: 675px; max-height: 100%;">
    <div id="kofi-backdrop" class="modal-backdrop" onclick="closeKofiDialog()"></div>
    <div class="modal">
      <button autofocus class="close-button" aria-label="Close tipping dialog" onclick="closeKofiDialog()">
        <span>‚ùå&#65038;</span>
      </button>
      <iframe
        src="https://ko-fi.com/alecmitnik/?hidefeed=true&widget=true&embed=true&preview=true"
        style="border: none; border-radius: 8px; width: 100%; height: 100%;"
      ></iframe>
    </div>
  </dialog>

  <div class="scroll-page">
    <div id="site-header" class="column">
      <h1 class="title">Alec Mitnik</h1>
      <h2 class="subtitle">Portfolio</h2>
    </div>

    <div id="profile-picture-wrapper" class="column">
      <div id="profile-picture"></div>
    </div>

    <div id="personal-links" class="row">
      <a id="LinkedIn-link" class="bloom-button" data-hue="240" target="_new"
          href="https://www.linkedin.com/in/alec-mitnik/">
        <span class="element-text">
          <img src="./images/LinkedIn_icon.svg">
          LinkedIn
        </span>
      </a>
      <a id="email-link" class="bloom-button" data-hue="180" data-lightness="0.75" data-saturation="0.25" target="_new"
          href="mailto:alecmitnik@gmail.com">
        <span class="element-text">
          <img src="./images/envelope-34339.svg">
          Email
        </span>
      </a>
      <button id="ko-fi-button" class="bloom-button" data-hue="0" target="_new"
           onclick="openKofiDialog()">
        <span class="element-text">
          <img src="./images/kofi_symbol.svg">
          Support My Projects
        </span>
      </a>
    </div>

    <div id="down-arrow"></div>
  </div>
  <div class="scroll-page">
    <div id="project-links" class="row">
      <a id="infinite-puzzles-link" class="bloom-button" target="_new"
          href="https://alec-mitnik-infinite-puzzles.netlify.app/">
        <span class="element-text">üß© Infinite Puzzles</span>
      </a>
      <a id="take-a-hike-link" class="bloom-button" target="_new"
          href="https://alec-mitnik-take-a-hike.netlify.app/">
        <span class="element-text">üåº Take a Hike</span>
      </a>
      <a id="take-a-hike-link" class="bloom-button" target="_new"
          href="https://alec-mitnik-color-bloom.netlify.app/art.html">
        <span class="element-text">üé® Color Bloom Art Maker</span>
      </a>
      <a id="context-lookups-link" class="bloom-button" target="_new"
          href="https://chromewebstore.google.com/detail/context-lookups/pdpcaajpbemllmagmijafgcnpmlbhhjd">
        <span class="element-text">üîç Context Lookups</span>
      </a>
    </div>
  </div>
</body>
</html>
